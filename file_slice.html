<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
	<input type="file" id="file" />
	<script>
		document.getElementById('file').addEventListener('change', (event) => {
			const file = event.target.files[0];
			// console.log(file);
			// lastModified: 1644549553742
			// lastModifiedDate: Fri Feb 11 2022 11:19:13 GMT+0800 (中国标准时间) {}
			// name: "banner.png"
			// size: 138424
			// type: "image/png"
			// webkitRelativePath: ""
			
			// console.log(Object.prototype.toString.call(file)); // [object File]
			
			// console.log(file.slice(0, 102400)); // 100kb
			// file.slice完成切片，blob类型文件切片，JS二进制文件类型的
			// blob协议
			// Blob {size: 102400, type: ''}
			// size: 102400
			// type: ""
			let cur = 0, size = 1024*1024; // 1M
			const fileChunkList = []; // blob数组
			while(cur < file.size) {
				fileChunkList.push({
					// cur start offset end
					file: file.slice(cur, cur + size)
				});
				cur += size;
			}
			console.log(fileChunkList);
			// 0:
			// file: Blob {size: 1048576, type: ''}
			// [[Prototype]]: Object
			// 1:
			// file: Blob {size: 1048576, type: ''}
			// [[Prototype]]: Object
			// 2: {file: Blob}
			// 3: {file: Blob}
			// length: 4
		})
	</script>
</body>
</html>

